# VARIABLES EQUIPO CI/CD

# Información del equipo
team_info:
  name: "cicd"
  description: "Equipo especializado en integración y despliegue continuo"
  emoji: ""

# Configuración de Jenkins
jenkins_config:
  port: 8080
  home_directory: "/var/lib/jenkins"
  admin_user: "admin"
  java_options: "-Xmx1024m"
  
# Configuración de Docker
docker_config:
  enable_docker_in_docker: true
  docker_group_members: ["jenkins"]
  enable_docker_compose: true
  
# Repositorios a monitorear
repositories:
  - name: "sample-web-app"
    url: "https://github.com/curso-infra/sample-web-app.git"
    branch: "main"
    deploy_target: "webserver_ssl_servers"
    
  - name: "monitoring-configs"
    url: "https://github.com/curso-infra/monitoring-configs.git"
    branch: "main"
    deploy_target: "monitoring_servers"

# Configuración de pipeline
pipeline_config:
  enable_webhooks: true
  webhook_secret: "curso-infra-webhook-secret"
  stages:
    - test
    - security_scan
    - build
    - deploy
    
# Configuración de deployments
deployment_config:
  strategy: "rolling"
  timeout: 300
  rollback_enabled: true
  backup_before_deploy: true
  
# Puertos a abrir
firewall_ports:
  - 8080  # Jenkins
  - 9115  # Jenkins metrics exporter
  - 50000 # Jenkins agent port
  
# Integraciones con otros equipos
integrations:
  webserver_ssl:
    enable: true
    deploy_method: "ssh_rsync"
    deploy_path: "/var/www/html"
    deploy_user: "www-data"
    
  security:
    enable: true
    security_scan_enabled: true
    security_gate_url: "http://security-server:9114/security-check"
    
  monitoring:
    enable: true
    metrics_port: 9115
    jenkins_exporter_enabled: true
    
  traefik:
    enable: true
    auto_register_services: true
    webhook_url: "/traefik/webhook"
